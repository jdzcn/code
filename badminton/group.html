<!DOCTYPE html>
<html manifest="demo.appcache"> 
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,minimum-scale=1.0,user-scalable=0" />
<!--<meta name=”viewport” content=”width=device-width”>-->
<title>球队分组(1.02)</title>
<style>

label{font-weight:bold;}

button{font-size:1em;font-weight:bold;width:100%;}

textarea
{font-size:1.3em;width:100%;height:200px}

#fzry{border:1px solid black;}
#result{border:none;}
</style>
<script>


window.onload=function(){
  if(localStorage.name)       document.getElementById("fzry").value=localStorage.name;
}

function strspit(){
var strName =document.getElementById("fzry").value;

var allName=strName.split(",");
var len=allName.length;
if(len%2==1){
alert("参数人员单数，无法分组！");
return;
}
var l=len/2;
var j=0;
var a=new Array();
var b=new Array();
for(var i=0;i<l;i++){
if(Math.floor(Math.random()*2)==0){
  a[i]=allName[j];
  b[i]=allName[j+1];
}
else{
  a[i]=allName[j+1];
  b[i]=allName[j];
}
j=j+2;

}
localStorage.setItem("name",strName);
document.getElementById("result").value="参赛人员共"+len+"人\nA组成员("+(len/2)+"人)：\n"+a+"\nB组成员("+(len/2)+"人)：\n"+b;

}
</script>
</head>
<body>
<form>
        <label for="fzry">请输入参赛人员名单</label>

        <textarea id="fzry" rows="6" required autofocus>辉辉, 宋斌,凯凯,华华,袁建华,张勇,无名,多多,海洋,陶守德,陈龙,小冷,开心,王志平,董新平,随缘,任志凯,一善斋,袁永兴,张晓云,一仔,胡芹,乐乐,刀刀,秋天,李江玲,萝卜,杨文芳,涛声,阿英,小琴,玲儿</textarea>
<button type="button" onclick="strspit()">随机分组</button>

<textarea id="result" rows="8" readonly></textarea>
</form>

</body>
</html>